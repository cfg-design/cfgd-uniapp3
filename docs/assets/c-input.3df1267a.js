import{_ as e}from"./c-icon.0020e935.js";import{d as l,U as a,I as o,ag as s,ai as u,as as n,aj as t,ak as r,al as c,am as i,an as v,j as p,m as d,k as m,l as f,z as h,D as y,J as g,av as b,K as w,e as x,f as C,o as P,c as _,w as k,p as S,q as $,a as I,s as B,v as j,x as z,A as T,u as H,M as E,aw as N,g as A,ax as K}from"./index.64ce4e13.js";import{_ as F}from"./c-text.4ba5c9e9.js";import{_ as M}from"./plugin-vue_export-helper.21dcd24c.js";var V=M(l({__name:"c-input",props:{props:null,cClass:null,cStyle:null,inputClass:null,inputStyle:null,c:{default:"default"},value:null,type:null,size:null,placeholder:null,inputAlign:null,bgColor:null,icon:null,iconProps:null,rightIcon:null,rightIconProps:null,password:null,disabled:null,readonly:null,clearable:null,clearIconProps:null,maxlength:null,showCount:null,countProps:null,border:null,borderBottom:null,radius:null,round:null,path:null,noFeedback:null,textContentType:null,placeholderStyle:null,placeholderClass:null,cursorSpacing:null,cursor:null,focus:null,confirmType:null,confirmHold:null,selectionStart:null,selectionEnd:null,adjustPosition:null,holdKeyboard:{type:Boolean},autoBlur:{type:Boolean},ignoreCompositionEvent:null,alwaysEmbed:{type:Boolean},safePasswordCertPath:null,safePasswordLength:null,safePasswordTimeStamp:null,safePasswordNonce:null,safePasswordSalt:null,safePasswordCustomHash:null,randomNumber:{type:Boolean},controlled:{type:Boolean},alwaysSystem:{type:Boolean}},emits:["update:value","input","focus","blur","confirm","keyboardheightchange","clear","click:input","click:icon","click:rightIcon"],setup(l,{expose:M,emit:V}){const L=l,R=a(s,o()),U=a(u,o(!1)),W=a(n,void 0),q=a(t,o()),D=a(r,o("")),J=a(c,o(!1)),G=a(i,o()),O=a(v,o(!1)),Q=T(),X=H(),Y=E(),Z=N(),ee=p((()=>L.props?d(L.props,m(L)):L)),le=p((()=>d(Z.value[ee.value.c],ee.value))),ae=o(le.value.value),oe=o(f(le.value.focus)),se=o(!1),ue=o(null),ne=p((()=>{const{bgColor:e}=le.value;return e?X.value[e]||e:void 0})),te=p((()=>h(Q.value,le.value.size))),re=p((()=>le.value.path||G.value)),ce=p((()=>re.value&&R.value?R.value[re.value]:void 0)),ie=p((()=>re.value&&q.value?q.value[re.value]:void 0)),ve=p((()=>!!le.value.bgColor&&!!X.value[le.value.bgColor])),pe=p((()=>te.value||D.value||y(Q.value.m))),de=p((()=>f(le.value.disabled))),me=p((()=>de.value||U.value||J.value||!1)),fe=p((()=>f(le.value.readonly)||me.value)),he=p((()=>f(le.value.password))),ye=p((()=>f(le.value.border))),ge=p((()=>f(le.value.borderBottom))),be=p((()=>f(le.value.clearable))),we=p((()=>f(le.value.showCount))),xe=p((()=>le.value.maxlength||140)),Ce=p((()=>void 0!==le.value.radius?le.value.radius:"s")),Pe=p((()=>g(Y.value,Ce.value))),_e=p((()=>f(le.value.round))),ke=p((()=>_e.value?"9999px":Pe.value)),Se=p((()=>f(le.value.noFeedback)||O.value)),$e=p((()=>pe.value.replace(/\d+/,(e=>Math.floor(.9*Number(e))+"")))),Ie=p((()=>pe.value.replace(/\d+/,(e=>Math.floor(1.3*Number(e))+"")))),Be=p((()=>ve.value?"#fff":"secondary")),je=p((()=>`0 calc(${pe.value} * 0.4)`)),ze=p((()=>({padding:je.value}))),Te=p((()=>d({textProps:{cClass:["c-input__icon"],cStyle:ze.value}},le.value.clearIconProps))),He=p((()=>d({textProps:{cStyle:ze.value}},le.value.iconProps))),Ee=p((()=>d({textProps:{cClass:["c-input__right-icon"],cStyle:ze.value}},le.value.rightIconProps))),Ne=p((()=>{const e={};if(ne.value&&(e.borderColor=ne.value,e.backgroundColor=ne.value),ye.value||ne.value){e.borderWidth="1px",e.borderRadius=ke.value;const l=le.value.icon?.2:.65,a=le.value.rightIcon?.2:.65;e.padding=`0 calc(${pe.value} * ${a}) 0 calc(${pe.value} * ${l})`}else ge.value&&(e.borderBottomWidth="1px");return(ye.value||ne.value||ge.value)&&(e.minHeight=`calc(${pe.value} * 2.5)`),e})),Ae=p((()=>{const e={};return!Se.value&&ie.value?e.borderColor=X.value.error:oe.value&&!ve.value&&(e.borderColor=X.value.primary),e})),Ke=p((()=>d({x:[Ne.value,Ae.value]},{x:le.value.cStyle}).x)),Fe=p((()=>d({x:["c-input",{"c-input__disabled":!U.value&&!J.value&&de.value}]},{x:le.value.cClass}).x)),Me=p((()=>pe.value?`calc(${pe.value} * 1.75)`:"1.75")),Ve=p((()=>({height:Me.value,lineHeight:Me.value,color:ve.value?"#fff":X.value.main,textAlign:le.value.inputAlign,fontSize:pe.value}))),Le=p((()=>d({x:[Ve.value]},{x:le.value.inputStyle}).x)),Re=p((()=>d({x:["c-input__input"]},{x:le.value.inputClass}).x)),Ue=p((()=>{let e=le.value.placeholderStyle||"";return e&&!/;$/.test(e)&&(e+=";"),`${e}font-size: ${pe.value};color: ${X.value.placeholder};`})),We=p((()=>d({size:$e.value,color:"secondary",cStyle:[{whiteSpace:"nowrap",padding:"0 8rpx"}]},le.value.countProps))),qe=p((()=>b(ce.value,"input"))),De=p((()=>b(ce.value,"change"))),Je=p((()=>b(ce.value,"focus"))),Ge=p((()=>b(ce.value,"blur"))),Oe=(e,l)=>{clearTimeout(Oe.timer),Oe.timer=setTimeout((()=>W&&re.value&&W(re.value,void 0,e)),l)};Oe.timer=0;const Qe=e=>{qe.value&&Oe("input",300),V("update:value",ae.value),V("input",e)},Xe=e=>{Je.value&&Oe("focus"),oe.value=!0,V("focus",e)},Ye=e=>{Ge.value&&Oe("blur"),oe.value=!1,V("blur",e)},Ze=e=>V("confirm",e),el=e=>V("keyboardheightchange",e),ll=()=>{oe.value=!0},al=()=>{ae.value="",ll(),V("clear")},ol=()=>{se.value=oe.value},sl=e=>V("click:input",e),ul=e=>V("click:icon",e),nl=e=>V("click:rightIcon",e);return w((()=>le.value.value),(e=>{ae.value=e})),w((()=>ae.value),(()=>De.value&&Oe("change"))),w((()=>oe.value),(()=>oe.value?ol():setTimeout(ol))),M({focus:ll}),(l,a)=>{const o=x(C("c-icon"),e),s=A,u=K,n=x(C("c-text"),F);return P(),_(s,{class:j($(Fe)),style:z($(Ke))},{default:k((()=>[S(l.$slots,"prefix",{},void 0,!0),$(le).icon?(P(),_(s,{key:0,class:"c-input__icon-wrap",onClick:ul},{default:k((()=>[I(o,{props:{color:$(Be),size:$(Ie),...$(He)},name:$(le).icon},null,8,["props","name"])])),_:1})):B("v-if",!0),I(u,{ref_key:"inputRef",ref:ue,modelValue:ae.value,"onUpdate:modelValue":a[0]||(a[0]=e=>ae.value=e),class:j($(Re)),style:z($(Le)),focus:oe.value,password:$(he),"placeholder-style":$(Ue),disabled:$(fe),maxlength:$(xe),placeholder:$(le).placeholder||"请输入",type:$(le).type,"text-content-type":$(le).textContentType,"placeholder-class":$(le).placeholderClass,"cursor-spacing":$(le).cursorSpacing,cursor:$(le).cursor,"confirm-type":$(le).confirmType,"confirm-hold":$(le).confirmHold,"selection-start":$(le).selectionStart,"selection-end":$(le).selectionEnd,"adjust-position":$(le).adjustPosition,"hold-keyboard":$(le).holdKeyboard,"auto-blur":$(le).autoBlur,"ignore-composition-event":$(le).ignoreCompositionEvent,"always-embed":$(le).alwaysEmbed,"safe-password-certPath":$(le).safePasswordCertPath,"safe-password-length":$(le).safePasswordLength,"safe-password-time-stamp":$(le).safePasswordTimeStamp,"safe-password-nonce":$(le).safePasswordNonce,"safe-password-salt":$(le).safePasswordSalt,"safe-password-customHash":$(le).safePasswordCustomHash,"random-number":$(le).randomNumber,controlled:$(le).controlled,"always-system":$(le).alwaysSystem,onClick:sl,onInput:Qe,onFocus:Xe,onBlur:Ye,onConfirm:Ze,onKeyboardheightchange:el},null,8,["modelValue","class","style","focus","password","placeholder-style","disabled","maxlength","placeholder","type","text-content-type","placeholder-class","cursor-spacing","cursor","confirm-type","confirm-hold","selection-start","selection-end","adjust-position","hold-keyboard","auto-blur","ignore-composition-event","always-embed","safe-password-certPath","safe-password-length","safe-password-time-stamp","safe-password-nonce","safe-password-salt","safe-password-customHash","random-number","controlled","always-system"]),$(be)&&se.value&&ae.value?(P(),_(s,{key:1,"c-class":"c-input__icon-wrap",onClick:al},{default:k((()=>[I(o,{props:{name:"close-circle-fill",size:$(Ie),color:$(Be),...$(Te)}},null,8,["props"])])),_:1})):B("v-if",!0),$(we)&&$(xe)?S(l.$slots,"count",{key:2},(()=>{var e;return[I(n,{props:$(We),text:`${(null==(e=ae.value)?void 0:e.length)||0} / ${$(xe)}`},null,8,["props","text"])]}),!0):B("v-if",!0),$(le).rightIcon?(P(),_(s,{key:3,"c-class":"c-input__icon-wrap",onClick:nl},{default:k((()=>[I(o,{props:{color:$(Be),size:$(Ie),...$(Ee)},name:$(le).rightIcon},null,8,["props","name"])])),_:1})):B("v-if",!0),S(l.$slots,"suffix",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-46c0e2b0"]]);export{V as _};
