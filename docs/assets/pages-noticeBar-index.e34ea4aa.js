import{I as e,d as l,j as a,m as t,k as o,p as r,K as s,at as c,a0 as u,a1 as n,b as i,e as p,o as v,c as f,w as m,g as _,q as d,v as x,x as y,y as g,a8 as I,u as b,f as h,a4 as w}from"./index.77e0feac.js";import{_ as k}from"./c-icon.vue_vue_type_script_setup_true_lang.c3452c23.js";import{_ as P}from"./c-text.6f7dd3a8.js";import{_ as j}from"./c-row.c58eb727.js";import{g as S}from"./getRect.3e8ad009.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";import{_ as z}from"./c-col.53aa3641.js";import"./_isString.25f07ec4.js";const T=e({default:{}}),R=C(l({__name:"c-notice-bar",props:{props:null,cClass:null,cStyle:null,c:{default:"default"},color:null,leftIcon:null,leftIconProps:null,rightIcon:null,rightIconProps:null,text:null,textProps:null,autoplay:null,speed:null,closable:null,closeIconProps:null},emits:["click","click:close"],setup(l,{emit:C}){const z=l,R=T,q=b(),D=e(0),K=e(!0),L=a((()=>{if(!D.value)return"10s";const e=B.value.speed||60;return D.value/Number(e)+"s"})),N=a((()=>{const{color:e}=B.value;return e?q.value[e]||e:q.value.primary})),A=a((()=>z.props?t(z.props,o(z)):z)),B=a((()=>t(R.value[A.value.c],A.value))),E=a((()=>{var e;return B.value.leftIcon||(null==(e=B.value.leftIconProps)?void 0:e.name)})),F=a((()=>{var e;return B.value.rightIcon||(null==(e=B.value.rightIconProps)?void 0:e.name)})),G=a((()=>r(B.value.autoplay))),H=a((()=>r(B.value.closable))),J=a((()=>t({x:[{"--color":N.value,padding:"16rpx 30rpx"}]},{x:B.value.cStyle}).x)),M=a((()=>t({x:["c-notice-bar"]},{x:B.value.cClass}).x)),O=a((()=>t({color:N.value,size:"xl",textProps:{cStyle:[{marginRight:"10rpx"}]}},B.value.leftIconProps))),Q=a((()=>t({color:N.value,size:"xl",textProps:{cStyle:[{marginLeft:"10rpx"}]}},B.value.rightIconProps))),U=a((()=>t({text:B.value.text,color:N.value,cStyle:[{whiteSpace:"nowrap"}]},B.value.textProps))),V=()=>{K.value=!1,C("click:close")},W=w(),X=()=>{clearTimeout(X.timer),G.value&&(X.num++,X.num>10||S(W,".c-notice-bar__palay").then((({width:e})=>{D.value=e||0,e||(X.timer=setTimeout(X,100))})))};return X.timer=0,X.num=0,s((()=>G.value),(e=>e&&c(X))),u(X),n((()=>clearTimeout(X.timer))),(e,l)=>{const a=h,t=i(p("c-icon"),k),o=i(p("c-text"),P),r=i(p("c-row"),j);return K.value?(v(),f(a,{key:0,class:y(d(M)),style:g(d(J)),onClick:l[0]||(l[0]=e=>C("click"))},{default:m((()=>[_(a,{class:"c-notice-bar__bg"}),_(r,{align:"center","c-style":{position:"relative",zIndex:1,width:"1px"},"no-wrap":""},{default:m((()=>[d(E)?(v(),f(t,{key:0,props:d(O),name:d(E)},null,8,["props","name"])):x("v-if",!0),_(a,{class:"c-notice-bar__text-wrap"},{default:m((()=>[_(a,{class:y({"c-notice-bar__palay":d(G)}),style:g({animationDuration:d(L)})},{default:m((()=>[_(o,{props:d(U)},null,8,["props"])])),_:1},8,["class","style"])])),_:1}),d(F)?(v(),f(t,{key:1,props:d(Q),name:d(F)},null,8,["props","name"])):x("v-if",!0),d(H)?(v(),f(a,{key:2,onClick:I(V,["stop"])},{default:m((()=>[_(t,{props:{name:"close-line",color:d(N),size:"2xl",...d(B).closeIconProps}},null,8,["props"])])),_:1},8,["onClick"])):x("v-if",!0)])),_:1})])),_:1},8,["class","style"])):x("v-if",!0)}}}),[["__scopeId","data-v-3c1c7034"]]);const q=C({},[["render",function(e,l){const a=i(p("c-notice-bar"),R),t=i(p("c-col"),z),o=i(p("c-row"),j),r=h;return v(),f(r,{class:"page"},{default:m((()=>[_(o,{gutter:"10",vertical:""},{default:m((()=>[_(t,null,{default:m((()=>[_(a,{text:"重要通知重要通知重要通知",autoplay:""})])),_:1}),_(t,null,{default:m((()=>[_(a,{text:"重要通知重要通知重要通知",speed:"120",autoplay:""})])),_:1}),_(t,null,{default:m((()=>[_(a,{color:"success",text:"重要通知重要通知重要通知"})])),_:1}),_(t,null,{default:m((()=>[_(a,{color:"error",text:"重要通知重要通知重要通知"})])),_:1}),_(t,null,{default:m((()=>[_(a,{color:"warning",text:"重要通知重要通知重要通知"})])),_:1}),_(t,null,{default:m((()=>[_(a,{text:"重要通知重要通知重要通知重要通知重要通知重要通知重要通知重要通知重要通知重要通知重要通知重要通知","left-icon":"error-warning-fill","right-icon":"arrow-right-s-line",autoplay:""})])),_:1}),_(t,null,{default:m((()=>[_(a,{text:"重要通知重要通知重要通知","left-icon":"user-5-line",closable:""})])),_:1})])),_:1})])),_:1})}]]);export{q as default};
