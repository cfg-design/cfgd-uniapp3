import{_ as l}from"./c-button.92f7021d.js";import{d as e,U as a,I as u,ai as s,ak as r,al as n,j as t,m as o,k as v,z as p,D as i,l as d,J as c,K as m,e as f,f as b,o as x,c as _,w as g,a as y,q as h,v as C,x as N,A as P,u as j,M as k,aN as z,ar as B,g as R}from"./index.64ce4e13.js";import{_ as S}from"./c-input.3df1267a.js";import{_ as $}from"./plugin-vue_export-helper.21dcd24c.js";var w=$(e({__name:"c-input-number",props:{props:null,cClass:null,cStyle:null,c:{default:"default"},value:null,min:null,max:null,step:null,color:null,size:null,inputProps:null,plusButtonProps:null,minusButtonProps:null,disabled:null,radius:null,round:null},emits:["update:value","plus","minus"],setup(e,{expose:$,emit:w}){const A=e,I=a(s,u(!1)),M=a(r,u("")),U=a(n,u(!1)),q=P(),D=j(),J=k(),K=z(),E=t((()=>A.props?o(A.props,v(A)):A)),F=t((()=>o(K.value[E.value.c],E.value))),G=u(),H=t((()=>F.value.value||0)),L=u(H.value+""),O=t((()=>F.value.step||1)),Q=t((()=>F.value.color||"#f2f2f2")),T=t((()=>{const{color:l}=F.value;return l&&D.value[l]?"#fff":D.value.main})),V=t((()=>p(q.value,F.value.size))),W=t((()=>V.value||M.value||i(q.value.m))),X=t((()=>d(F.value.disabled))),Y=t((()=>X.value||I.value||U.value||!1)),Z=t((()=>void 0!==F.value.radius?F.value.radius:"s")),ll=t((()=>c(J.value,Z.value))),el=t((()=>d(F.value.round))),al=t((()=>el.value?"9999px":ll.value)),ul=t((()=>{const{min:l}=F.value;return void 0!==l&&H.value<=l})),sl=t((()=>{const{max:l}=F.value;return void 0!==l&&H.value>=l})),rl=t((()=>({radius:0,size:W.value,color:Q.value,textColor:T.value}))),nl=t((()=>[{borderRadius:al.value}])),tl=t((()=>o({x:[nl.value]},{x:F.value.cStyle}).x)),ol=t((()=>o({x:["c-input-number"]},{x:F.value.cClass}).x)),vl=t((()=>({width:`calc(${W.value} * 4)`,margin:"0 4rpx"}))),pl=t((()=>o({radius:0,inputAlign:"center",size:W.value,bgColor:Q.value,disabled:Y.value,cStyle:[vl.value],placeholder:" "},F.value.inputProps))),il=l=>{if(void 0===l)return 0;const{min:e,max:a}=F.value;return void 0!==e&&l<e?e:void 0!==a&&l>a?a:(l=>{let e=l+"";if(!/\./.test(e))return l;let a="";"-"===e[0]&&(e=e.replace("-",""),a="-");const[u,s]=e.split(".");let r=Math.round(Number(s.replace(/(.{5})$/,".$1")))+"00000",n=Number(u);return r.length-s.length==1&&(++n,r=(r+"").replace(/^./,"")),Number(a+n+"."+r)})(l)},dl=(l,e)=>{const a=il(l);A.value!==a&&(w("update:value",a),e)?w(e,a):a!=l?(L.value="",B((()=>{L.value=a+""}))):L.value=a+""},cl=()=>{const l=H.value-O.value;dl(l,"minus")},ml=()=>{const l=H.value+O.value;dl(l,"plus")},fl=l=>l&&dl(Number(l)),bl=({detail:l})=>dl(Number(l.value)||0);return m((()=>H.value),(l=>dl(l))),$({inputRef:G}),(e,a)=>{const u=f(b("c-button"),l),s=R;return x(),_(s,{class:C(h(ol)),style:N(h(tl))},{default:g((()=>[y(u,{props:{icon:"subtract-line",...h(rl),...h(F).minusButtonProps},disabled:h(Y)||h(ul),onClick:cl},null,8,["props","disabled"]),y(S,{ref_key:"inputRef",ref:G,props:h(pl),value:L.value,type:"number","onUpdate:value":fl,onBlur:bl},null,8,["props","value"]),y(u,{props:{icon:"add-line",...h(rl),...h(F).plusButtonProps},disabled:h(Y)||h(sl),onClick:ml},null,8,["props","disabled"])])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-07076d60"]]);export{w as _};
