import{_ as l}from"./c-icon.vue_vue_type_script_setup_true_lang.c3452c23.js";import{d as e,j as a,m as s,k as o,I as r,D as u,J as n,p,K as c,b as i,e as d,o as v,c as t,w as m,q as g,x as h,y,v as _,L as w,M as x,N as f,f as b}from"./index.77e0feac.js";import{_ as S}from"./c-spin.91baef47.js";import{_ as z}from"./_plugin-vue_export-helper.cdc0426e.js";const L=z(e({__name:"c-image",props:{props:null,cClass:null,cStyle:null,imageClass:null,imageStyle:null,c:{default:"default"},src:null,mode:null,lazyLoad:null,fadeShow:null,webp:null,showMenuByLongpress:null,draggable:null,width:null,height:null,radius:null,round:null,iconProps:null,errorProps:null,spinProps:null,noSpin:null},emits:["error","load"],setup(e,{emit:z}){const L=e,P=w(),j=x(),k=a((()=>L.props?s(L.props,o(L)):L)),C=a((()=>s(P.value[k.value.c],k.value))),M=r(!!C.value.src),B=r(!1),I=a((()=>u(C.value.width))),q=a((()=>u(C.value.height))),D=a((()=>I.value?`calc(${I.value} * 0.618)`:"xl")),E=a((()=>void 0!==C.value.radius?C.value.radius:"m")),J=a((()=>n(j.value,E.value))),K=a((()=>p(C.value.round))),N=a((()=>K.value?"9999px":J.value)),R=a((()=>({width:I.value,height:q.value}))),$=a((()=>!p(C.value.noSpin)&&M.value)),A=a((()=>M.value?{width:"0",height:"0"}:s({x:[R.value]},{x:C.value.imageStyle}).x)),F=a((()=>s({x:["c-image__image"]},{x:C.value.imageClass}).x)),G=a((()=>{const l={...R.value,borderRadius:N.value};return s({x:[l]},{x:C.value.cStyle}).x})),H=a((()=>s({x:["c-image"]},{x:C.value.cClass}).x)),O=l=>{B.value=!0,M.value=!1,z("error",l)},Q=l=>{M.value=!1,z("load",l)};return c((()=>C.value.src),((l,e)=>{B.value=!1,M.value=!!l&&l!==e})),(e,a)=>{const s=i(d("c-icon"),l),o=f,r=i(d("c-spin"),S),u=b;return v(),t(u,{class:h(g(H)),style:y(g(G))},{default:m((()=>[B.value?(v(),t(s,{key:0,props:{name:"error-warning-fill",color:"placeholder",size:g(D),...g(C).errorProps}},null,8,["props"])):g(C).src?(v(),t(o,{key:1,class:h(g(F)),style:y(g(A)),src:g(C).src,mode:g(C).mode,"lazy-load":g(p)(g(C).lazyLoad),"fade-show":!1!==g(C).fadeShow,webp:g(p)(g(C).webp),"show-menu-by-longpress":g(p)(g(C).showMenuByLongpress),draggable:!1!==g(C).draggable,onError:O,onLoad:Q},null,8,["class","style","src","mode","lazy-load","fade-show","webp","show-menu-by-longpress","draggable"])):(v(),t(s,{key:2,props:{name:"image-2-fill",color:"placeholder",size:g(D),...g(C).iconProps}},null,8,["props"])),g($)?(v(),t(r,{key:3,props:{size:g(D),color:"placeholder",...g(C).spinProps}},null,8,["props"])):_("v-if",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-cba7c0c6"]]);export{L as _};
