import{d as e,I as a,j as l,A as s,J as u,C as r,K as i,e as o,f as n,o as v,c as d,w as c,l as t,m as p,q as m,p as g,L as _,M as f,N as h,g as y}from"./index.a39ee5e8.js";import{_ as w}from"./c-icon.5dd30e6e.js";import{_ as P}from"./c-spin.197345eb.js";import{_ as j,m as x,g as k}from"./plugin-vue_export-helper.54492111.js";var B=j(e({__name:"c-image",props:{c:{default:"default"},viewBind:null,imageBind:null,src:null,mode:null,width:null,height:null,radius:null,round:null,iconProps:null,errorProps:null,spinProps:null,noSpin:null},emits:["error","load"],setup(e,{emit:j}){const B=e,z=_(),S=f(),b=a(!1),I=a(!1),L=l((()=>x(z.value[B.c],B))),q=l((()=>s(L.value.width))),A=l((()=>s(L.value.height))),C=l((()=>q.value?`calc(${q.value} * 0.618)`:"xl")),E=l((()=>u(S.value,L.value.radius))),J=l((()=>k(L.value.round))),K=l((()=>J.value?"9999px":E.value)),M=l((()=>[{width:q.value,height:A.value}])),N=l((()=>[...M.value,{borderRadius:K.value}])),R=l((()=>({...L.value.imageBind,...r({src:L.value.src,mode:L.value.mode})}))),$=l((()=>!k(L.value.noSpin)&&b.value)),D=e=>{I.value=!0,b.value=!1,j("error",e)},F=e=>{b.value=!1,j("load",e)};return i((()=>R.value.src),(()=>{I.value=!1,b.value=!0})),(e,a)=>{const l=h,s=o(n("c-icon"),w),u=o(n("c-spin"),P),r=y;return v(),d(r,p({class:"c-image"},t(L).viewBind,{style:t(N)}),{default:c((()=>[t(R).src&&!I.value?(v(),d(l,p({key:0},t(R),{class:"c-image__image",style:b.value?void 0:t(M),onError:D,onLoad:F}),null,16,["style"])):t(R).src?(v(),d(s,m(p({key:2},{size:t(C),...t(L).errorProps})),null,16)):(v(),d(s,m(p({key:1},{size:t(C),...t(L).iconProps})),null,16)),t($)?(v(),d(u,m(p({key:3},{iconSize:t(C),...t(L).spinProps})),null,16)):g("v-if",!0)])),_:1},16,["style"])}}}),[["__scopeId","data-v-58a9f53a"]]);export{B as _};
