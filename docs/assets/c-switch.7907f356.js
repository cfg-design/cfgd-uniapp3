import{_ as e}from"./c-text.7e94fc52.js";import{I as l,d as a,V as u,ag as s,ai as t,aj as v,as as c,ak as r,al as o,an as d,am as i,j as n,m as p,k as h,p as x,l as _,D as f,J as k,av as m,K as g,b,e as y,o as C,c as T,w as z,g as w,q as P,y as $,v as j,x as V,u as L,z as R,M as F,f as I}from"./index.32a4c5fe.js";import{_ as S}from"./c-spin.ee7284bc.js";import{_ as W}from"./plugin-vue_export-helper.21dcd24c.js";const q=l({default:{radius:"s",color:"primary",checkedTextProps:{color:"#fff"}}});var D=W(a({__name:"c-switch",props:{props:null,cClass:null,cStyle:null,c:{default:"default"},color:null,bgColor:null,size:null,value:null,checkedValue:null,unCheckedValue:null,checkedText:null,checkedTextProps:null,unCheckedText:null,unCheckedTextProps:null,disabled:null,readonly:null,loading:null,spinProps:null,radius:null,round:null,path:null,noFeedback:null},emits:["update:value"],setup(a,{emit:W}){const D=a,J=u(s,l()),K=u(t,l(!1)),M=u(v,l()),A=u(c,void 0),B=u(r,l("")),E=u(o,l(!1)),G=u(d,l(!1)),H=u(i,l()),N=L(),O=R(),Q=F(),U=q,X=n((()=>D.props?p(D.props,h(D)):D)),Y=n((()=>p(U.value[X.value.c],X.value))),Z=l(Y.value.value),ee=n((()=>{const{color:e}=Y.value;return e?N.value[e]||e:N.value.primary})),le=n((()=>{const{bgColor:e}=Y.value;return e?N.value[e]||e:"#dbdbdb"})),ae=n((()=>{const{checkedValue:e}=Y.value;return void 0===e||""===e||!0===e||e})),ue=n((()=>{const{unCheckedValue:e}=Y.value;return void 0!==e&&""!==e&&!1!==e&&e})),se=n((()=>ae.value===Z.value)),te=n((()=>x(Y.value.loading))),ve=n((()=>x(Y.value.readonly))),ce=n((()=>x(Y.value.disabled))),re=n((()=>ce.value||E.value||K.value)),oe=n((()=>_(O.value,Y.value.size))),de=n((()=>oe.value||B.value||f(O.value.m))),ie=n((()=>`calc(${de.value} * 3.2)`)),ne=n((()=>`calc(${de.value} * 1.6)`)),pe=n((()=>`calc(${de.value} * 1.2)`)),he=n((()=>`calc(${de.value} * 1.4)`)),xe=n((()=>`calc(${de.value} * 0.1)`)),_e=n((()=>`calc(-${de.value} * 1.5)`)),fe=n((()=>`calc(${de.value} * 0.7)`)),ke=n((()=>`calc(${de.value} * 2.1)`)),me=n((()=>k(Q.value,Y.value.radius))),ge=n((()=>x(Y.value.round))),be=n((()=>ge.value?"9999px":me.value)),ye=n((()=>x(Y.value.noFeedback)||G.value)),Ce=n((()=>Y.value.path||H.value)),Te=n((()=>Ce.value&&J.value?J.value[Ce.value]:void 0)),ze=n((()=>Ce.value&&M.value?M.value[Ce.value]:void 0)),we=n((()=>m(Te.value,"change"))),Pe=n((()=>{const e={borderRadius:be.value,minWidth:ie.value,height:ne.value,backgroundColor:le.value};return!ye.value&&ze.value&&(e.borderWidth="1px",e.borderColor=N.value.error),e})),$e=n((()=>p({x:[Pe.value]},{x:Y.value.cStyle}).x)),je=n((()=>p({x:["c-switch",{"c-switch__disabled":!K.value&&!E.value&&ce.value,"c-switch__avtive":se.value}]},{x:Y.value.cClass}).x)),Ve=n((()=>({paddingLeft:fe.value,paddingRight:ke.value,backgroundColor:ee.value}))),Le=n((()=>({paddingLeft:ke.value,paddingRight:fe.value}))),Re=n((()=>se.value?{marginLeft:_e.value}:{marginLeft:xe.value})),Fe=n((()=>[Re.value,{width:he.value,height:he.value,borderRadius:be.value}])),Ie=(e,l)=>{clearTimeout(Ie.timer),Ie.timer=setTimeout((()=>A&&Ce.value&&A(Ce.value,void 0,e)),l)};Ie.timer=0;const Se=()=>{if(re.value||ve.value||te.value)return;const e=Z.value!==ae.value?ae.value:ue.value;void 0===Y.value.loading&&(Z.value=e),W("update:value",e)};return g((()=>Y.value.value),(e=>{Z.value=e})),g((()=>Z.value),(()=>we.value&&Ie("change"))),(l,a)=>{const u=b(y("c-text"),e),s=I,t=b(y("c-spin"),S);return C(),T(s,{class:V(P(je)),style:$(P($e)),onClick:Se},{default:z((()=>[w(s,{class:"c-switch__placeholder",style:$(P(Ve))},{default:z((()=>[w(u,{props:P(Y).checkedTextProps,size:P(de),text:P(Y).checkedText},null,8,["props","size","text"]),w(u,{props:P(Y).unCheckedTextProps,size:P(de),text:P(Y).unCheckedText},null,8,["props","size","text"])])),_:1},8,["style"]),w(s,{class:"c-switch__rail"},{default:z((()=>[w(s,{class:"c-switch__rail-left",style:$(P(Ve))},{default:z((()=>[w(u,{props:P(Y).checkedTextProps,size:P(de),text:P(Y).checkedText},null,8,["props","size","text"])])),_:1},8,["style"]),w(s,{class:"c-switch__slider",style:$(P(Fe))},{default:z((()=>[P(te)?(C(),T(t,{key:0,props:{size:P(pe),color:P(Y).color,...P(Y).spinProps}},null,8,["props"])):j("v-if",!0)])),_:1},8,["style"]),w(s,{class:"c-switch__rail-right",style:$(P(Le))},{default:z((()=>[w(u,{props:P(Y).unCheckedTextProps,size:P(de),text:P(Y).unCheckedText},null,8,["props","size","text"])])),_:1},8,["style"])])),_:1})])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-2bd5f6ba"]]);export{D as _};
