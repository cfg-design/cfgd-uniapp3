import{_ as l}from"./c-icon.20cafdd9.js";import{d as a,j as e,m as s,k as o,I as r,D as u,J as n,p,K as i,b as c,e as d,o as v,c as t,w as m,q as g,x as h,y,v as f,L as w,M as x,N as b,f as _}from"./index.32a4c5fe.js";import{_ as S}from"./c-spin.ee7284bc.js";import{_ as z}from"./plugin-vue_export-helper.21dcd24c.js";var L=z(a({__name:"c-image",props:{props:null,cClass:null,cStyle:null,imageClass:null,imageStyle:null,c:{default:"default"},src:null,mode:null,lazyLoad:null,fadeShow:null,webp:null,showMenuByLongpress:null,draggable:null,width:null,height:null,radius:null,round:null,iconProps:null,errorProps:null,spinProps:null,noSpin:null},emits:["error","load"],setup(a,{emit:z}){const L=a,P=w(),j=x(),k=e((()=>L.props?s(L.props,o(L)):L)),C=e((()=>s(P.value[k.value.c],k.value))),M=r(!!C.value.src),B=r(!1),I=e((()=>u(C.value.width))),q=e((()=>u(C.value.height))),D=e((()=>I.value?`calc(${I.value} * 0.618)`:"xl")),E=e((()=>void 0!==C.value.radius?C.value.radius:"m")),J=e((()=>n(j.value,E.value))),K=e((()=>p(C.value.round))),N=e((()=>K.value?"9999px":J.value)),R=e((()=>({width:I.value,height:q.value}))),$=e((()=>!p(C.value.noSpin)&&M.value)),A=e((()=>M.value?{width:"0",height:"0"}:s({x:[R.value]},{x:C.value.imageStyle}).x)),F=e((()=>s({x:["c-image__image"]},{x:C.value.imageClass}).x)),G=e((()=>{const l={...R.value,borderRadius:N.value};return s({x:[l]},{x:C.value.cStyle}).x})),H=e((()=>s({x:["c-image"]},{x:C.value.cClass}).x)),O=l=>{B.value=!0,M.value=!1,z("error",l)},Q=l=>{M.value=!1,z("load",l)};return i((()=>C.value.src),((l,a)=>{B.value=!1,M.value=!!l&&l!==a})),(a,e)=>{const s=c(d("c-icon"),l),o=b,r=c(d("c-spin"),S),u=_;return v(),t(u,{class:h(g(H)),style:y(g(G))},{default:m((()=>[B.value?(v(),t(s,{key:0,props:{name:"error-warning-fill",color:"placeholder",size:g(D),...g(C).errorProps}},null,8,["props"])):g(C).src?(v(),t(o,{key:1,class:h(g(F)),style:y(g(A)),src:g(C).src,mode:g(C).mode,"lazy-load":g(p)(g(C).lazyLoad),"fade-show":!1!==g(C).fadeShow,webp:g(p)(g(C).webp),"show-menu-by-longpress":g(p)(g(C).showMenuByLongpress),draggable:!1!==g(C).draggable,onError:O,onLoad:Q},null,8,["class","style","src","mode","lazy-load","fade-show","webp","show-menu-by-longpress","draggable"])):(v(),t(s,{key:2,props:{name:"image-2-fill",color:"placeholder",size:g(D),...g(C).iconProps}},null,8,["props"])),g($)?(v(),t(r,{key:3,props:{size:g(D),color:"placeholder",...g(C).spinProps}},null,8,["props"])):f("v-if",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-6f27262a"]]);export{L as _};
