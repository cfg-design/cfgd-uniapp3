import{_ as e}from"./c-icon.ec6027b4.js";import{d as l,V as a,I as o,ag as u,ai as s,aq as n,aj as t,ak as r,al as c,am as i,an as v,j as p,m as d,k as m,p as f,l as h,D as y,J as b,av as g,K as w,b as x,e as C,o as P,c as _,w as k,s as S,q as $,g as I,v as B,x as j,y as z,z as T,u as H,M as E,aw as N,f as K,ax as V}from"./index.2b2eb9d2.js";import{_ as A}from"./c-text.1f4b9c35.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";var M=F(l({__name:"c-input",props:{props:null,cClass:null,cStyle:null,inputClass:null,inputStyle:null,c:{default:"default"},value:null,type:null,size:null,placeholder:null,inputAlign:null,bgColor:null,icon:null,iconProps:null,rightIcon:null,rightIconProps:null,password:null,disabled:null,readonly:null,clearable:null,clearIconProps:null,maxlength:null,showCount:null,countProps:null,border:null,borderBottom:null,radius:null,round:null,path:null,noFeedback:null,textContentType:null,placeholderStyle:null,placeholderClass:null,cursorSpacing:null,cursor:null,focus:null,confirmType:null,confirmHold:null,selectionStart:null,selectionEnd:null,adjustPosition:null,holdKeyboard:{type:Boolean},autoBlur:{type:Boolean},ignoreCompositionEvent:null,alwaysEmbed:{type:Boolean},safePasswordCertPath:null,safePasswordLength:null,safePasswordTimeStamp:null,safePasswordNonce:null,safePasswordSalt:null,safePasswordCustomHash:null,randomNumber:{type:Boolean},controlled:{type:Boolean},alwaysSystem:{type:Boolean}},emits:["update:value","input","focus","blur","confirm","keyboardheightchange","clear","click:input","click:icon","click:rightIcon"],setup(l,{expose:F,emit:M}){const q=l,L=a(u,o()),R=a(s,o(!1)),W=a(n,void 0),D=a(t,o()),J=a(r,o("")),U=a(c,o(!1)),G=a(i,o()),O=a(v,o(!1)),Q=T(),X=H(),Y=E(),Z=N(),ee=p((()=>q.props?d(q.props,m(q)):q)),le=p((()=>d(Z.value[ee.value.c],ee.value))),ae=p((()=>f(le.value.focus))),oe=o(le.value.value),ue=o(ae.value),se=o(!1),ne=o(null),te=p((()=>{const{bgColor:e}=le.value;return e?X.value[e]||e:void 0})),re=p((()=>h(Q.value,le.value.size))),ce=p((()=>le.value.path||G.value)),ie=p((()=>ce.value&&L.value?L.value[ce.value]:void 0)),ve=p((()=>ce.value&&D.value?D.value[ce.value]:void 0)),pe=p((()=>!!le.value.bgColor&&!!X.value[le.value.bgColor])),de=p((()=>re.value||J.value||y(Q.value.m))),me=p((()=>f(le.value.disabled))),fe=p((()=>me.value||R.value||U.value||!1)),he=p((()=>f(le.value.readonly)||fe.value)),ye=p((()=>f(le.value.password))),be=p((()=>f(le.value.border))),ge=p((()=>f(le.value.borderBottom))),we=p((()=>f(le.value.clearable))),xe=p((()=>f(le.value.showCount))),Ce=p((()=>le.value.maxlength||140)),Pe=p((()=>void 0!==le.value.radius?le.value.radius:"s")),_e=p((()=>b(Y.value,Pe.value))),ke=p((()=>f(le.value.round))),Se=p((()=>ke.value?"9999px":_e.value)),$e=p((()=>f(le.value.noFeedback)||O.value)),Ie=p((()=>de.value.replace(/\d+/,(e=>Math.floor(.9*Number(e))+"")))),Be=p((()=>de.value.replace(/\d+/,(e=>Math.floor(1.3*Number(e))+"")))),je=p((()=>pe.value?"#fff":"secondary")),ze=p((()=>`0 calc(${de.value} * 0.4)`)),Te=p((()=>({padding:ze.value}))),He=p((()=>d({textProps:{cClass:["c-input__icon"],cStyle:Te.value}},le.value.clearIconProps))),Ee=p((()=>d({textProps:{cStyle:Te.value}},le.value.iconProps))),Ne=p((()=>d({textProps:{cClass:["c-input__right-icon"],cStyle:Te.value}},le.value.rightIconProps))),Ke=p((()=>{const e={};if(te.value&&(e.borderColor=te.value,e.backgroundColor=te.value),be.value||te.value){e.borderWidth="1px",e.borderRadius=Se.value;const l=le.value.icon?.2:.65,a=le.value.rightIcon?.2:.65;e.padding=`0 calc(${de.value} * ${a}) 0 calc(${de.value} * ${l})`}else ge.value&&(e.borderBottomWidth="1px");return(be.value||te.value||ge.value)&&(e.minHeight=`calc(${de.value} * 2.5)`),e})),Ve=p((()=>{const e={};return!$e.value&&ve.value?e.borderColor=X.value.error:ue.value&&!pe.value&&(e.borderColor=X.value.primary),e})),Ae=p((()=>d({x:[Ke.value,Ve.value]},{x:le.value.cStyle}).x)),Fe=p((()=>d({x:["c-input",{"c-input__disabled":!R.value&&!U.value&&me.value}]},{x:le.value.cClass}).x)),Me=p((()=>de.value?`calc(${de.value} * 1.75)`:"1.75")),qe=p((()=>({height:Me.value,lineHeight:Me.value,color:pe.value?"#fff":X.value.main,textAlign:le.value.inputAlign,fontSize:de.value}))),Le=p((()=>d({x:[qe.value]},{x:le.value.inputStyle}).x)),Re=p((()=>d({x:["c-input__input"]},{x:le.value.inputClass}).x)),We=p((()=>{let e=le.value.placeholderStyle||"";return e&&!/;$/.test(e)&&(e+=";"),`${e}font-size: ${de.value};color: ${X.value.placeholder};`})),De=p((()=>d({size:Ie.value,color:"secondary",cStyle:[{whiteSpace:"nowrap",padding:"0 8rpx"}]},le.value.countProps))),Je=p((()=>g(ie.value,"input"))),Ue=p((()=>g(ie.value,"change"))),Ge=p((()=>g(ie.value,"focus"))),Oe=p((()=>g(ie.value,"blur"))),Qe=(e,l)=>{clearTimeout(Qe.timer),Qe.timer=setTimeout((()=>W&&ce.value&&W(ce.value,void 0,e)),l)};Qe.timer=0;const Xe=e=>{Je.value&&Qe("input",300),M("update:value",oe.value),M("input",e)},Ye=e=>{Ge.value&&Qe("focus"),ue.value=!0,M("focus",e)},Ze=e=>{Oe.value&&Qe("blur"),ue.value=!1,M("blur",e)},el=e=>M("confirm",e),ll=e=>M("keyboardheightchange",e),al=()=>{ue.value=!0},ol=()=>{oe.value="",le.value.value&&M("update:value",""),al(),M("clear")},ul=()=>{se.value=ue.value},sl=e=>M("click:input",e),nl=e=>M("click:icon",e),tl=e=>M("click:rightIcon",e);return w((()=>le.value.value),(e=>{oe.value=e})),w((()=>oe.value),(()=>Ue.value&&Qe("change"))),w((()=>ue.value),(()=>ue.value?ul():setTimeout(ul))),w((()=>ae.value),(e=>ue.value=e)),F({focus:al}),(l,a)=>{const o=x(C("c-icon"),e),u=K,s=V,n=x(C("c-text"),A);return P(),_(u,{class:j($(Fe)),style:z($(Ae))},{default:k((()=>[S(l.$slots,"prefix",{},void 0,!0),$(le).icon?(P(),_(u,{key:0,class:"c-input__icon-wrap",onClick:nl},{default:k((()=>[I(o,{props:{color:$(je),size:$(Be),...$(Ee)},name:$(le).icon},null,8,["props","name"])])),_:1})):B("v-if",!0),I(s,{ref_key:"inputRef",ref:ne,modelValue:oe.value,"onUpdate:modelValue":a[0]||(a[0]=e=>oe.value=e),class:j($(Re)),style:z($(Le)),focus:ue.value,password:$(ye),"placeholder-style":$(We),disabled:$(he),maxlength:$(Ce),placeholder:$(le).placeholder||"请输入",type:$(le).type,"text-content-type":$(le).textContentType,"placeholder-class":$(le).placeholderClass,"cursor-spacing":$(le).cursorSpacing,cursor:$(le).cursor,"confirm-type":$(le).confirmType,"confirm-hold":$(le).confirmHold,"selection-start":$(le).selectionStart,"selection-end":$(le).selectionEnd,"adjust-position":$(le).adjustPosition,"hold-keyboard":$(le).holdKeyboard,"auto-blur":$(le).autoBlur,"ignore-composition-event":$(le).ignoreCompositionEvent,"always-embed":$(le).alwaysEmbed,"safe-password-certPath":$(le).safePasswordCertPath,"safe-password-length":$(le).safePasswordLength,"safe-password-time-stamp":$(le).safePasswordTimeStamp,"safe-password-nonce":$(le).safePasswordNonce,"safe-password-salt":$(le).safePasswordSalt,"safe-password-customHash":$(le).safePasswordCustomHash,"random-number":$(le).randomNumber,controlled:$(le).controlled,"always-system":$(le).alwaysSystem,onClick:sl,onInput:Xe,onFocus:Ye,onBlur:Ze,onConfirm:el,onKeyboardheightchange:ll},null,8,["modelValue","class","style","focus","password","placeholder-style","disabled","maxlength","placeholder","type","text-content-type","placeholder-class","cursor-spacing","cursor","confirm-type","confirm-hold","selection-start","selection-end","adjust-position","hold-keyboard","auto-blur","ignore-composition-event","always-embed","safe-password-certPath","safe-password-length","safe-password-time-stamp","safe-password-nonce","safe-password-salt","safe-password-customHash","random-number","controlled","always-system"]),$(we)&&se.value&&oe.value?(P(),_(u,{key:1,"c-class":"c-input__icon-wrap",onClick:ol},{default:k((()=>[I(o,{props:{name:"close-circle-fill",size:$(Be),color:$(je),...$(He)}},null,8,["props"])])),_:1})):B("v-if",!0),$(xe)&&$(Ce)?S(l.$slots,"count",{key:2},(()=>{var e;return[I(n,{props:$(De),text:`${(null==(e=oe.value)?void 0:e.length)||0} / ${$(Ce)}`},null,8,["props","text"])]}),!0):B("v-if",!0),$(le).rightIcon?(P(),_(u,{key:3,"c-class":"c-input__icon-wrap",onClick:tl},{default:k((()=>[I(o,{props:{color:$(je),size:$(Be),...$(Ne)},name:$(le).rightIcon},null,8,["props","name"])])),_:1})):B("v-if",!0),S(l.$slots,"suffix",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-2f817122"]]);export{M as _};
