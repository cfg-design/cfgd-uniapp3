import{_ as e}from"./c-icon.bed78de6.js";import{d as l,U as a,I as o,ag as s,ai as u,as as n,aj as r,ak as t,al as c,am as i,an as v,l as p,j as d,m,k as f,z as h,D as y,J as g,av as b,K as w,e as x,f as C,o as P,c as _,w as k,p as S,q as $,a as I,s as B,v as j,x as z,h as T,t as H,A as E,u as N,M as A,aw as K,g as F,ax as M}from"./index.755831c4.js";import{_ as V}from"./c-text.4c147d33.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";var R=L(l({__name:"c-input",props:{props:null,cClass:null,cStyle:null,inputClass:null,inputStyle:null,c:{default:"default"},value:null,type:null,size:null,placeholder:null,inputAlign:null,bgColor:null,icon:null,iconProps:null,rightIcon:null,rightIconProps:null,password:null,disabled:null,readonly:null,clearable:null,clearIconProps:null,maxlength:null,showCount:null,countProps:null,border:null,borderBottom:null,radius:null,round:null,path:null,noFeedback:null,textContentType:null,placeholderStyle:null,placeholderClass:null,cursorSpacing:null,cursor:null,focus:null,confirmType:null,confirmHold:null,selectionStart:null,selectionEnd:null,adjustPosition:null,holdKeyboard:{type:Boolean},autoBlur:{type:Boolean},ignoreCompositionEvent:null,alwaysEmbed:{type:Boolean},safePasswordCertPath:null,safePasswordLength:null,safePasswordTimeStamp:null,safePasswordNonce:null,safePasswordSalt:null,safePasswordCustomHash:null,randomNumber:{type:Boolean},controlled:{type:Boolean},alwaysSystem:{type:Boolean}},emits:["update:value","input","focus","blur","confirm","keyboardheightchange","clear","click:input","click:icon","click:rightIcon"],setup(l,{expose:L,emit:R}){const U=l,W=a(s,o()),q=a(u,o(!1)),D=a(n,void 0),J=a(r,o()),G=a(t,o("")),O=a(c,o(!1)),Q=a(i,o()),X=a(v,o(!1)),Y=E(),Z=N(),ee=A(),le=K(),ae=o(U.value),oe=o(p(U.focus)),se=o(!1),ue=o(null),ne=d((()=>U.props?m(U.props,f(U)):U)),re=d((()=>m(le.value[ne.value.c],ne.value))),te=d((()=>{const{bgColor:e}=re.value;return e?Z.value[e]||e:void 0})),ce=d((()=>h(Y.value,re.value.size))),ie=d((()=>re.value.path||Q.value)),ve=d((()=>ie.value&&W.value?W.value[ie.value]:void 0)),pe=d((()=>ie.value&&J.value?J.value[ie.value]:void 0)),de=d((()=>!!re.value.bgColor&&!!Z.value[re.value.bgColor])),me=d((()=>ce.value||G.value||y(Y.value.m))),fe=d((()=>p(re.value.disabled))),he=d((()=>fe.value||q.value||O.value||!1)),ye=d((()=>p(re.value.readonly)||he.value)),ge=d((()=>p(re.value.password))),be=d((()=>p(re.value.border))),we=d((()=>p(re.value.borderBottom))),xe=d((()=>p(re.value.clearable))),Ce=d((()=>p(re.value.showCount))),Pe=d((()=>re.value.maxlength||140)),_e=d((()=>void 0!==re.value.radius?re.value.radius:"s")),ke=d((()=>g(ee.value,_e.value))),Se=d((()=>p(re.value.round))),$e=d((()=>Se.value?"9999px":ke.value)),Ie=d((()=>p(re.value.noFeedback)||X.value)),Be=d((()=>me.value.replace(/\d+/,(e=>Math.floor(.9*Number(e))+"")))),je=d((()=>me.value.replace(/\d+/,(e=>Math.floor(1.3*Number(e))+"")))),ze=d((()=>de.value?"#fff":"secondary")),Te=d((()=>`0 calc(${me.value} * 0.4)`)),He=d((()=>({padding:Te.value}))),Ee=d((()=>m({textProps:{cClass:["c-input__icon"],cStyle:He.value}},re.value.clearIconProps))),Ne=d((()=>m({textProps:{cStyle:He.value}},re.value.iconProps))),Ae=d((()=>m({textProps:{cClass:["c-input__right-icon"],cStyle:He.value}},re.value.rightIconProps))),Ke=d((()=>{const e={};if(te.value&&(e.borderColor=te.value,e.backgroundColor=te.value),be.value||te.value){e.borderWidth="1px",e.borderRadius=$e.value;const l=re.value.icon?.2:.65,a=re.value.rightIcon?.2:.65;e.padding=`0 calc(${me.value} * ${a}) 0 calc(${me.value} * ${l})`}else we.value&&(e.borderBottomWidth="1px");return(be.value||te.value||we.value)&&(e.minHeight=`calc(${me.value} * 2.5)`),e})),Fe=d((()=>{const e={};return!Ie.value&&pe.value?e.borderColor=Z.value.error:oe.value&&!de.value&&(e.borderColor=Z.value.primary),e})),Me=d((()=>m({x:[Ke.value,Fe.value]},{x:re.value.cStyle}).x)),Ve=d((()=>m({x:["c-input",{"c-input__disabled":!q.value&&!O.value&&fe.value}]},{x:re.value.cClass}).x)),Le=d((()=>me.value?`calc(${me.value} * 1.75)`:"1.75")),Re=d((()=>({height:Le.value,lineHeight:Le.value,color:de.value?"#fff":Z.value.main,textAlign:re.value.inputAlign,fontSize:me.value}))),Ue=d((()=>m({x:[Re.value]},{x:re.value.inputStyle}).x)),We=d((()=>m({x:["c-input__input"]},{x:re.value.inputClass}).x)),qe=d((()=>{let e=re.value.placeholderStyle||"";return e&&!/;$/.test(e)&&(e+=";"),`${e}font-size: ${me.value};color: ${Z.value.placeholder};`})),De=d((()=>m({size:Be.value,color:"secondary",cStyle:[{whiteSpace:"nowrap",padding:"0 8rpx"}]},re.value.countProps))),Je=d((()=>b(ve.value,"input"))),Ge=d((()=>b(ve.value,"change"))),Oe=d((()=>b(ve.value,"focus"))),Qe=d((()=>b(ve.value,"blur"))),Xe=(e,l)=>{clearTimeout(Xe.timer),Xe.timer=setTimeout((()=>D&&ie.value&&D(ie.value,void 0,e)),l)};Xe.timer=0;const Ye=e=>{Je.value&&Xe("input",300),R("update:value",ae.value),R("input",e)},Ze=e=>{Oe.value&&Xe("focus"),oe.value=!0,R("focus",e)},el=e=>{Qe.value&&Xe("blur"),oe.value=!1,R("blur",e)},ll=e=>R("confirm",e),al=e=>R("keyboardheightchange",e),ol=()=>{oe.value=!0},sl=()=>{ae.value="",ol(),R("clear")},ul=()=>{se.value=oe.value},nl=e=>R("click:input",e),rl=e=>R("click:icon",e),tl=e=>R("click:rightIcon",e);return w((()=>U.value),(e=>{ae.value=e})),w((()=>ae.value),(()=>Ge.value&&Xe("change"))),w((()=>oe.value),(()=>oe.value?ul():setTimeout(ul))),L({focus:ol}),(l,a)=>{const o=x(C("c-icon"),e),s=F,u=M,n=x(C("c-text"),V);return P(),_(s,{class:j($(Ve)),style:z($(Me))},{default:k((()=>[S(l.$slots,"prefix",{},void 0,!0),$(re).icon?(P(),_(s,{key:0,class:"c-input__icon-wrap",onClick:rl},{default:k((()=>[I(o,{props:{color:$(ze),size:$(je),...$(Ne)},name:$(re).icon},null,8,["props","name"])])),_:1})):B("v-if",!0),I(u,{ref_key:"inputRef",ref:ue,modelValue:ae.value,"onUpdate:modelValue":a[0]||(a[0]=e=>ae.value=e),class:j($(We)),style:z($(Ue)),focus:oe.value,password:$(ge),"placeholder-style":$(qe),disabled:$(ye),maxlength:$(Pe),placeholder:$(re).placeholder||"请输入",type:$(re).type,"text-content-type":$(re).textContentType,"placeholder-class":$(re).placeholderClass,"cursor-spacing":$(re).cursorSpacing,cursor:$(re).cursor,"confirm-type":$(re).confirmType,"confirm-hold":$(re).confirmHold,"selection-start":$(re).selectionStart,"selection-end":$(re).selectionEnd,"adjust-position":$(re).adjustPosition,"hold-keyboard":$(re).holdKeyboard,"auto-blur":$(re).autoBlur,"ignore-composition-event":$(re).ignoreCompositionEvent,"always-embed":$(re).alwaysEmbed,"safe-password-certPath":$(re).safePasswordCertPath,"safe-password-length":$(re).safePasswordLength,"safe-password-time-stamp":$(re).safePasswordTimeStamp,"safe-password-nonce":$(re).safePasswordNonce,"safe-password-salt":$(re).safePasswordSalt,"safe-password-customHash":$(re).safePasswordCustomHash,"random-number":$(re).randomNumber,controlled:$(re).controlled,"always-system":$(re).alwaysSystem,onClick:nl,onInput:Ye,onFocus:Ze,onBlur:el,onConfirm:ll,onKeyboardheightchange:al},null,8,["modelValue","class","style","focus","password","placeholder-style","disabled","maxlength","placeholder","type","text-content-type","placeholder-class","cursor-spacing","cursor","confirm-type","confirm-hold","selection-start","selection-end","adjust-position","hold-keyboard","auto-blur","ignore-composition-event","always-embed","safe-password-certPath","safe-password-length","safe-password-time-stamp","safe-password-nonce","safe-password-salt","safe-password-customHash","random-number","controlled","always-system"]),$(xe)&&se.value&&ae.value?(P(),_(s,{key:1,"c-class":"c-input__icon-wrap",onClick:sl},{default:k((()=>[I(o,{props:{name:"close-circle-fill",size:$(je),color:$(ze),...$(Ee)}},null,8,["props"])])),_:1})):B("v-if",!0),$(Ce)&&$(Pe)?S(l.$slots,"count",{key:2},(()=>[I(n,{props:$(De)},{default:k((()=>{var e;return[T(H((null==(e=ae.value)?void 0:e.length)||0)+" / "+H($(Pe)),1)]})),_:1},8,["props"])]),!0):B("v-if",!0),$(re).rightIcon?(P(),_(s,{key:3,"c-class":"c-input__icon-wrap",onClick:tl},{default:k((()=>[I(o,{props:{color:$(ze),size:$(je),...$(Ae)},name:$(re).rightIcon},null,8,["props","name"])])),_:1})):B("v-if",!0),S(l.$slots,"suffix",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-62688445"]]);export{R as _};
