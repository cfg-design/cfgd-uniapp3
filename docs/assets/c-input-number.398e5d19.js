import{_ as e}from"./c-button.7d6b0ee1.js";import{I as u,d as l,T as a,a7 as s,a8 as n,af as t,ag as o,j as r,v as i,A as v,J as d,e as p,f as c,o as m,c as b,w as f,a as x,m as B,l as P,x as _,u as g,M as z,g as w,aF as h}from"./index.a39ee5e8.js";import{_ as j,m as y,g as N}from"./plugin-vue_export-helper.54492111.js";import{_ as k}from"./c-input.f3b61023.js";const C=u({default:{radius:"s",minusButtonProps:{icon:"subtract-line"},plusButtonProps:{icon:"add-line"}},round:{minusButtonProps:{icon:"subtract-line",round:!0},plusButtonProps:{icon:"add-line",round:!0},inputProps:{bgColor:"transparent"}}});var R=j(l({__name:"c-input-number",props:{c:{default:"default"},viewBind:null,value:null,min:null,max:null,step:null,color:null,size:null,inputProps:null,plusButtonProps:null,minusButtonProps:null,disabled:null,radius:null,round:null},emits:["update:value","plus","minus"],setup(l,{expose:j,emit:R}){const $=l,I=a(s,u("")),M=a(n,u(!1)),A=a(t,u("")),F=a(o,u(!1)),J=_(),T=g(),U=z(),q=C,D=u(),E=r((()=>$.value||0)),G=u(E.value+""),H=r((()=>y(q.value[$.c],$))),K=r((()=>H.value.step||1)),L=r((()=>H.value.color||"#f2f2f2")),O=r((()=>{const{color:e}=H.value;return e&&T.value[e]?"#fff":T.value.main})),Q=r((()=>i(J.value,H.value.size))),S=r((()=>Q.value||A.value||I.value||v(J.value.m))),V=r((()=>N(H.value.disabled))),W=r((()=>V.value||M.value||F.value||!1)),X=r((()=>d(U.value,H.value.radius))),Y=r((()=>N(H.value.round))),Z=r((()=>Y.value?"9999px":X.value)),ee=r((()=>{const{min:e}=H.value;return void 0!==e&&E.value<=e})),ue=r((()=>{const{max:e}=H.value;return void 0!==e&&E.value>=e})),le=r((()=>[{borderRadius:Z.value}])),ae=r((()=>[{width:`calc(${S.value} * 4)`}])),se=r((()=>{var e;return y(null==(e=H.value.inputProps)?void 0:e.viewBind,{style:ae.value})})),ne=e=>{if(void 0===e)return 0;const{min:u,max:l}=H.value;return void 0!==u&&e<u?u:void 0!==l&&e>l?l:(e=>{const u=e+"";if(!/\./.test(u))return e;const[l,a]=u.split(".");let s=Math.round(Number(a.replace(/(.{5})$/,".$1")))+"00000",n=Number(l);return s.length-a.length==1&&(++n,s=(s+"").replace(/^./,"")),Number(n+"."+s)})(e)},te=(e,u)=>{const l=ne(e);$.value!==l&&(R("update:value",l),u&&R(u,l)),l!=e?(G.value="",h((()=>{G.value=l+""}))):G.value=l+""},oe=()=>{const e=E.value-K.value;te(e,"minus")},re=()=>{const e=E.value+K.value;te(e,"plus")},ie=e=>e&&te(Number(e)),ve=({detail:e})=>te(Number(e.value)||0);return j({inputRef:D}),(u,l)=>{const a=p(c("c-button"),e),s=w;return m(),b(s,B({class:"c-input-number",style:P(le)},P(H).viewBind),{default:f((()=>[x(a,B({radius:"0",size:P(S),color:P(L),"text-color":P(O)},P(H).minusButtonProps,{disabled:P(W)||P(ee),onClick:oe}),null,16,["size","color","text-color","disabled"]),x(k,B({ref_key:"inputRef",ref:D,radius:"0","input-align":"center",size:P(S),"bg-color":P(L)},P(H).inputProps,{"view-bind":P(se),value:G.value,disabled:P(W),type:"number","onUpdate:value":ie,onBlur:ve}),null,16,["size","bg-color","view-bind","value","disabled"]),x(a,B({radius:"0",size:P(S),color:P(L),"text-color":P(O)},P(H).plusButtonProps,{disabled:P(W)||P(ue),onClick:re}),null,16,["size","color","text-color","disabled"])])),_:1},16,["style"])}}}),[["__scopeId","data-v-6472f768"]]);export{R as _};
