import{d as e,T as a,I as l,a6 as u,a7 as t,a8 as o,al as s,ae as r,a9 as v,af as n,ag as d,ah as i,ai as c,j as h,v as p,A as m,J as b,am as f,K as g,e as x,f as _,o as y,c as B,w as k,a as w,m as $,l as z,k as C,h as F,t as V,p as j,x as H,u as I,M,aG as T,aH as K,g as P}from"./index.a39ee5e8.js";import{_ as R}from"./c-text.326c1c36.js";import{_ as S,g as W,m as A}from"./plugin-vue_export-helper.54492111.js";var G=S(e({__name:"c-textarea",props:{c:{default:"default"},viewBind:null,textareaBind:null,value:null,size:null,placeholder:null,height:null,autoHeight:null,disabled:null,readonly:null,maxlength:null,showCount:null,countViewBind:null,countProps:null,autoFocus:null,border:null,borderBottom:null,radius:null,path:null,noFeedback:null},emits:["update:value","input","focus","blur","confirm","keyboardheightchange","linechange"],setup(e,{expose:S,emit:G}){const J=e,N=a(u,l()),U=a(t,l("")),q=a(o,l()),D=a(s,void 0),E=a(r,l()),L=a(v,l()),O=a(n,l("")),Q=a(d,l()),X=a(i,l()),Y=a(c,l()),Z=H(),ee=I(),ae=M(),le=T(),ue=l(J.value),te=l(W(J.autoFocus)),oe=l(null),se=h((()=>A(le.value[J.c],J))),re=h((()=>se.value.path||X.value)),ve=h((()=>re.value&&N.value?N.value[re.value]:void 0)),ne=h((()=>re.value&&E.value?E.value[re.value]:void 0)),de=h((()=>p(Z.value,se.value.size))),ie=h((()=>de.value||O.value||U.value||m(Z.value.m))),ce=h((()=>W(se.value.autoHeight))),he=h((()=>W(se.value.disabled))),pe=h((()=>he.value||q.value||Q.value||!1)),me=h((()=>W(se.value.readonly)||pe.value)),be=h((()=>W(se.value.border))),fe=h((()=>W(se.value.borderBottom))),ge=h((()=>W(se.value.showCount))),xe=h((()=>se.value.maxlength||140)),_e=h((()=>b(ae.value,se.value.radius))),ye=h((()=>W(se.value.noFeedback)||Y.value||L.value||!1)),Be=h((()=>ie.value.replace(/\d+/,(e=>Math.floor(.9*Number(e))+"")))),ke=h((()=>{const e={color:ee.value.main,fontSize:ie.value};return ce.value||(e.height=se.value.height),be.value?(e.borderWidth="1px",e.borderRadius=_e.value,e.padding=`calc(${ie.value} * 0.65`):fe.value&&(e.paddingBottom=`calc(${ie.value} * 0.4`,e.borderBottomWidth="1px"),e})),we=h((()=>{const e={};return!ye.value&&ne.value?e.borderColor=ee.value.error:te.value&&(e.borderColor=ee.value.primary),e})),$e=h((()=>[ke.value,we.value])),ze=h((()=>{var e;let a=(null==(e=se.value.textareaBind)?void 0:e.placeholderStyle)||"";return a&&!/;$/.test(a)&&(a+=";"),`${a}font-size: ${ie.value};color: ${ee.value.placeholder};`})),Ce=h((()=>f(ve.value,"input"))),Fe=h((()=>f(ve.value,"change"))),Ve=h((()=>f(ve.value,"focus"))),je=h((()=>f(ve.value,"blur"))),He=(e,a)=>{clearTimeout(He.timer),He.timer=setTimeout((()=>D&&re.value&&D(re.value,void 0,e)),a)};He.timer=0;const Ie=e=>{Ce.value&&He("input",300),G("update:value",ue.value),G("input",e)},Me=e=>{Ve.value&&He("focus"),te.value=!0,G("focus",e)},Te=e=>{je.value&&He("blur"),te.value=!1,G("blur",e)},Ke=e=>G("confirm",e),Pe=e=>G("keyboardheightchange",e);return g((()=>J.value),(e=>{ue.value=e})),g((()=>ue.value),(()=>Fe.value&&He("change"))),S({focus:()=>{te.value=!0}}),(e,a)=>{const l=K,u=x(_("c-text"),R),t=P;return y(),B(t,$({class:["c-textarea",[{"c-textarea__disabled":!z(q)&&!z(Q)&&z(he)}]]},z(se).viewBind),{default:k((()=>[w(l,$({ref_key:"textareaRef",ref:oe,class:"c-textarea__textarea",modelValue:ue.value,"onUpdate:modelValue":a[0]||(a[0]=e=>ue.value=e)},z(se).textareaBind,{style:z($e),"auto-height":z(ce),focus:te.value,placeholder:z(se).placeholder,"placeholder-style":z(ze),disabled:z(me),maxlength:z(xe),onInput:Ie,onFocus:Me,onBlur:Te,onConfirm:Ke,onKeyboardheightchange:Pe}),null,16,["modelValue","style","auto-height","focus","placeholder","placeholder-style","disabled","maxlength"]),z(ge)&&z(xe)?(y(),B(t,$({key:0,class:"c-textarea__count"},z(se).countViewBind),{default:k((()=>[C(e.$slots,"count",{value:ue.value},(()=>[w(u,$({size:z(Be)},z(se).countProps),{default:k((()=>{var e;return[F(V((null==(e=ue.value)?void 0:e.length)||0)+" / "+V(z(xe)),1)]})),_:1},16,["size"])]),!0)])),_:3},16)):j("v-if",!0)])),_:3},16,["class"])}}}),[["__scopeId","data-v-b76beb54"]]);export{G as M};
