import{_ as l}from"./c-icon.5dd30e6e.js";import{d as e,T as a,I as u,a6 as o,a7 as n,a8 as v,al as s,ae as t,a9 as r,af as i,ag as c,ah as d,ai as p,j as h,v as f,A as m,J as g,am as b,K as _,e as x,f as y,o as k,c as C,w as $,k as z,l as I,a as B,m as w,p as P,h as j,t as F,x as A,u as T,M,an as V,g as H,ao as K}from"./index.a39ee5e8.js";import{_ as N}from"./c-text.326c1c36.js";import{_ as R,g as S,m as W}from"./plugin-vue_export-helper.54492111.js";var J=R(e({__name:"c-input",props:{c:{default:"default"},viewBind:null,inputBind:null,value:null,type:null,size:null,placeholder:null,inputAlign:null,bgColor:null,icon:null,iconProps:null,rightIcon:null,rightIconProps:null,password:null,disabled:null,readonly:null,clearable:null,maxlength:null,showCount:null,countProps:null,autoFocus:null,border:null,borderBottom:null,radius:null,round:null,path:null,noFeedback:null},emits:["update:value","input","focus","blur","confirm","keyboardheightchange","clear","click:input","click:icon","click:rightIcon"],setup(e,{expose:R,emit:J}){const U=e,q=a(o,u()),D=a(n,u("")),E=a(v,u(!1)),G=a(s,void 0),L=a(t,u()),O=a(r,u(!1)),Q=a(i,u("")),X=a(c,u(!1)),Y=a(d,u()),Z=a(p,u(!1)),ll=A(),el=T(),al=M(),ul=V(),ol=u(U.value),nl=u(S(U.autoFocus)),vl=u(!1),sl=u(null),tl=h((()=>W(ul.value[U.c],U))),rl=h((()=>{const{bgColor:l}=tl.value;return l?el.value[l]||l:void 0})),il=h((()=>f(ll.value,tl.value.size))),cl=h((()=>tl.value.path||Y.value)),dl=h((()=>cl.value&&q.value?q.value[cl.value]:void 0)),pl=h((()=>cl.value&&L.value?L.value[cl.value]:void 0)),hl=h((()=>!!tl.value.bgColor&&!!el.value[tl.value.bgColor])),fl=h((()=>il.value||Q.value||D.value||m(ll.value.m))),ml=h((()=>S(tl.value.disabled))),gl=h((()=>ml.value||E.value||X.value||!1)),bl=h((()=>S(tl.value.readonly)||gl.value)),_l=h((()=>S(tl.value.password))),xl=h((()=>S(tl.value.border))),yl=h((()=>S(tl.value.borderBottom))),kl=h((()=>S(tl.value.clearable))),Cl=h((()=>S(tl.value.showCount))),$l=h((()=>tl.value.maxlength||140)),zl=h((()=>g(al.value,tl.value.radius))),Il=h((()=>S(tl.value.round))),Bl=h((()=>Il.value?"9999px":zl.value)),wl=h((()=>S(tl.value.noFeedback)||Z.value||O.value)),Pl=h((()=>fl.value.replace(/\d+/,(l=>Math.floor(.9*Number(l))+"")))),jl=h((()=>fl.value.replace(/\d+/,(l=>Math.floor(1.3*Number(l))+"")))),Fl=h((()=>hl.value?"#fff":"secondary")),Al=h((()=>`0 calc(${fl.value} * 0.4)`)),Tl=h((()=>({textBind:{style:[{padding:Al.value}]}}))),Ml=h((()=>W({textProps:Tl.value,color:Fl.value},tl.value.iconProps))),Vl=h((()=>W({textProps:Tl.value,color:Fl.value},tl.value.rightIconProps))),Hl=h((()=>{const l={};if(rl.value&&(l.borderColor=rl.value,l.backgroundColor=rl.value),xl.value||rl.value){l.borderWidth="1px",l.borderRadius=Bl.value;const e=tl.value.icon?.2:.65,a=tl.value.rightIcon?.2:.65;l.padding=`0 calc(${fl.value} * ${a}) 0 calc(${fl.value} * ${e})`}else yl.value&&(l.borderBottomWidth="1px");return(xl.value||rl.value||yl.value)&&(l.minHeight=`calc(${fl.value} * 2.5)`),l})),Kl=h((()=>{const l={};return!wl.value&&pl.value?l.borderColor=el.value.error:nl.value&&!hl.value&&(l.borderColor=el.value.primary),l})),Nl=h((()=>[Hl.value,Kl.value])),Rl=h((()=>fl.value?`calc(${fl.value} * 1.75)`:"1.75")),Sl=h((()=>[{height:Rl.value,lineHeight:Rl.value,color:hl.value?"#fff":el.value.main,textAlign:tl.value.inputAlign}])),Wl=h((()=>W({style:Sl.value},tl.value.inputBind))),Jl=h((()=>W(Wl.value,{style:[{fontSize:fl.value}]}))),Ul=h((()=>{var l;let e=(null==(l=tl.value.inputBind)?void 0:l.placeholderStyle)||"";return e&&!/;$/.test(e)&&(e+=";"),`${e}font-size: ${fl.value};color: ${el.value.placeholder};`})),ql=h((()=>b(dl.value,"input"))),Dl=h((()=>b(dl.value,"change"))),El=h((()=>b(dl.value,"focus"))),Gl=h((()=>b(dl.value,"blur"))),Ll=(l,e)=>{clearTimeout(Ll.timer),Ll.timer=setTimeout((()=>G&&cl.value&&G(cl.value,void 0,l)),e)};Ll.timer=0;const Ol=l=>{ql.value&&Ll("input",300),J("update:value",ol.value),J("input",l)},Ql=l=>{El.value&&Ll("focus"),nl.value=!0,J("focus",l)},Xl=l=>{Gl.value&&Ll("blur"),nl.value=!1,J("blur",l)},Yl=l=>J("confirm",l),Zl=l=>J("keyboardheightchange",l),le=()=>{nl.value=!0},ee=()=>{ol.value="",le(),J("clear")},ae=()=>{vl.value=nl.value},ue=l=>J("click:input",l),oe=l=>J("click:icon",l),ne=l=>J("click:rightIcon",l);return _((()=>U.value),(l=>{ol.value=l})),_((()=>ol.value),(()=>Dl.value&&Ll("change"))),_((()=>nl.value),(()=>nl.value?ae():setTimeout(ae))),R({focus:le}),(e,a)=>{const u=x(y("c-icon"),l),o=H,n=K,v=x(y("c-text"),N);return k(),C(o,w({class:["c-input",[{"c-input__disabled":!I(E)&&!I(X)&&I(ml)}]],style:I(Nl)},I(tl).viewBind),{default:$((()=>[z(e.$slots,"prefix",{},void 0,!0),I(tl).icon?(k(),C(o,{key:0,class:"c-input__icon__box",onClick:oe},{default:$((()=>[B(u,w({name:I(tl).icon,size:I(jl)},I(Ml)),null,16,["name","size"])])),_:1})):P("v-if",!0),B(n,w({ref_key:"inputRef",ref:sl,class:"c-input__input"},I(Jl),{modelValue:ol.value,"onUpdate:modelValue":a[0]||(a[0]=l=>ol.value=l),focus:nl.value,type:I(tl).type,password:I(_l),placeholder:I(tl).placeholder,"placeholder-style":I(Ul),disabled:I(bl),maxlength:I($l),onClick:ue,onInput:Ol,onFocus:Ql,onBlur:Xl,onConfirm:Yl,onKeyboardheightchange:Zl}),null,16,["modelValue","focus","type","password","placeholder","placeholder-style","disabled","maxlength"]),I(kl)&&vl.value&&ol.value?(k(),C(o,{key:1,class:"c-input__icon__box",onClick:ee},{default:$((()=>[B(u,{name:"close-circle-fill",size:I(jl),color:I(Fl),"text-props":I(Tl)},null,8,["size","color","text-props"])])),_:1})):P("v-if",!0),I(Cl)&&I($l)?z(e.$slots,"count",{key:2},(()=>[B(v,w({size:I(Pl)},I(tl).countProps),{default:$((()=>{var l;return[j(F((null==(l=ol.value)?void 0:l.length)||0)+" / "+F(I($l)),1)]})),_:1},16,["size"])]),!0):P("v-if",!0),I(tl).rightIcon?(k(),C(o,{key:3,class:"c-input__icon__box",onClick:ne},{default:$((()=>[B(u,w({name:I(tl).rightIcon,size:I(jl)},I(Vl)),null,16,["name","size"])])),_:1})):P("v-if",!0),z(e.$slots,"suffix",{},void 0,!0)])),_:3},16,["class","style"])}}}),[["__scopeId","data-v-c824aefc"]]);export{J as _};
